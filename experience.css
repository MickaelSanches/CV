/* EXPERIENCES */

:root {
    --card-width: 400px;
    --card-width: clamp(300px, 50vmin, 600px);
}

.track {
    margin: 100px;
    width: 100vw;
    position: relative;
    height: 50vh;
}

ul {
    display: flex;
    gap: 2rem;
    padding: 0;
    margin: 0;
    scroll-behavior: smooth;
    overflow-x: auto;
    /* Utilisation de overflow-x au lieu de scroll-snap-type */
    max-width: 100%;
    list-style-type: none;
    height: 100%;
    align-content: center;
    align-items: center;
    padding-inline: 0;
    scroll-padding-inline: 0;
}

ul::-webkit-scrollbar {
    width: 0.1em;
}

ul::-webkit-scrollbar-track {
    background-color: transparent;
}


li {
    scroll-snap-align: center;
    /* Conservez cette propriété pour le centrage des éléments */
    padding: 0;
    margin: 0;
}

:is(li, .indicator):nth-of-type(1) {
    --hue: 0;
}

:is(li, .indicator):nth-of-type(2) {
    --hue: 140;
}

:is(li, .indicator):nth-of-type(3) {
    --hue: 45;
}

:is(li, .indicator):nth-of-type(4) {
    --hue: 210;
}

:is(li, .indicator):nth-of-type(5) {
    --hue: 280;
}

:is(li, .indicator):nth-of-type(6) {
    --hue: 0;
}

:is(li, .indicator):nth-of-type(7) {
    --hue: 140;
}

:is(li, .indicator):nth-of-type(8) {
    --hue: 45;
}

:is(li, .indicator):nth-of-type(9) {
    --hue: 210;
}

:is(li, .indicator):nth-of-type(10) {
    --hue: 280;
}

:is(li, .indicator):nth-of-type(11) {
    --hue: 280;
}


article {
    width: var(--card-width);
    aspect-ratio: 4 / 3;
    background:
        radial-gradient(circle at center, hsl(0 0% 100% / 0.65), transparent) fixed,
        linear-gradient(hsl(var(--hue) 100% 0% / 0.25), transparent),
        linear-gradient(transparent, hsl(var(--hue) 0% 10% / 0.5)),
        hsl(var(--hue, 10) 0% 6%);
    box-shadow:
        0 1px hsl(0 0% 100% / 0.5) inset,
        0 10px 20px -10px black;
    border-radius: 1rem;
    border-top: 2px solid hsl(var(--hue, 10) 80% 60% / 0.75);
}


article.job {
    /* ... (votre code existant) ... */
    position: relative;
}

.descriptif {
    overflow: hidden;
    max-height: 0;
    transition: max-height 0.3s ease-in-out;
    overflow-y: auto;
    /* Ajout de la propriété de défilement automatique */
}

.toggle-button {
    cursor: pointer;
    color: rgb(255, 255, 255);
    /* Couleur du bouton, ajustez selon vos préférences */
    margin-top: 10px;
    text-decoration: underline;
    /* Soulignez le texte pour indiquer la nature interactive */
}

/* Ajout du style pour le bouton de bascule */
.job.open .descriptif {
    max-height: 500px;
    /* Hauteur maximale lorsque le texte est ouvert */
}

/* Ajustement pour corriger le problème des tailles différentes */
.descriptif.open {
    max-height: 500px;
    transition: max-height 0.3s ease-in-out;
}

/* Barre de défilement */
.descriptif::-webkit-scrollbar {
    width: 8px;
    /* Largeur de la barre de défilement */
}

/* Poignée de la barre de défilement */
.descriptif::-webkit-scrollbar-thumb {
    background: var(--bg);
    /* Couleur de fond de la poignée */
    border-radius: 1rem;
    /* Bordure arrondie de la poignée */
    border: 4px solid transparent;
    box-shadow: 0 1px hsl(0 0% 100% / 0.15) inset, 0 0 10px rgba(255, 255, 255, 0.3);
    transform: translate3d(0, 0, 0);
    transition: background 0.3s;
}

/* Piste de la barre de défilement */
.descriptif::-webkit-scrollbar-track {
    background-color: transparent;
    /* Couleur de fond de la piste */
    border-radius: 1rem;
    /* Bordure arrondie de la piste */
    box-shadow: inset 0 0 6px rgba(255, 255, 255, 0);
}

/* Effet au survol de la poignée */
.descriptif::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(var(--bg), var(--bg)) padding-box, var(--glow),
        linear-gradient(black, black) border-box;
    border: 4px solid transparent;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
}

/* Effet lors du clic sur la poignée */
.descriptif::-webkit-scrollbar-thumb:active {
    background: var(--glow);
    border: 4px solid transparent;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
}


.track__indicators {
    height: 20px;
    position: absolute;
    top: calc(50% + ((var(--card-width) * (3 / 4)) * 0.5) + 2rem);
    left: 50%;
    translate: -50% 0;
    display: flex;
}

.indicator {
    --color: hsl(var(--hue, 0) 0% 86%);
    background: linear-gradient(var(--color), var(--color)) padding-box;
    flex: 1;
    border-radius: 100px;
    height: 100%;
    min-width: 20px;
    cursor: pointer;
    padding: 0;
    position: relative;
    border: 4px solid transparent;
}

.indicator.active::after {
    background: hsl(var(--hue) 90% 70%);
}

.indicator::after {
    content: "";
    border-radius: 100px;
    position: absolute;
    inset: 0;
    background: hsl(var(--hue) 90% 70%);
}


@supports (animation-timeline: scroll()) {

    .track {
        timeline-scope: --one, --two, --three, --four, --five, --six, --seven, --eight, --nine, --ten, --eleven;
    }

    .track__indicators {
        aspect-ratio: 7 / 1;
    }

    li:nth-of-type(1) {
        view-timeline: --one inline;
    }

    li:nth-of-type(2) {
        view-timeline: --two inline;
    }

    li:nth-of-type(3) {
        view-timeline: --three inline;
    }

    li:nth-of-type(4) {
        view-timeline: --four inline;
    }

    li:nth-of-type(5) {
        view-timeline: --five inline;
    }

    li:nth-of-type(6) {
        view-timeline: --six inline;
    }

    li:nth-of-type(7) {
        view-timeline: --seven inline;
    }

    li:nth-of-type(8) {
        view-timeline: --eight inline;
    }

    li:nth-of-type(9) {
        view-timeline: --nine inline;
    }

    li:nth-of-type(10) {
        view-timeline: --ten inline;
    }

    li:nth-of-type(11) {
        view-timeline: --eleven inline;
    }

    .indicator {
        --buffer: calc(var(--card-width) * 0.9);
        animation: blink both linear;
        animation-range: contain calc(50% - var(--buffer)) contain calc(50% + var(--buffer));
    }

    .indicator:nth-of-type(1) {
        animation-timeline: --one;
    }

    .indicator:nth-of-type(2) {
        animation-timeline: --two;
    }

    .indicator:nth-of-type(3) {
        animation-timeline: --three;
    }

    .indicator:nth-of-type(4) {
        animation-timeline: --four;
    }

    .indicator:nth-of-type(5) {
        animation-timeline: --five;
    }

    .indicator:nth-of-type(6) {
        animation-timeline: --six;
    }

    .indicator:nth-of-type(7) {
        animation-timeline: --seven;
    }

    .indicator:nth-of-type(8) {
        animation-timeline: --eight;
    }

    .indicator:nth-of-type(9) {
        animation-timeline: --nine;
    }

    .indicator:nth-of-type(10) {
        animation-timeline: --ten;
    }

    .indicator:nth-of-type(11) {
        animation-timeline: --eleven;
    }

    @keyframes blink {
        50% {
            flex: 3;
        }
    }

    .indicator::after {
        --buffer: calc(var(--card-width) * 0.9);
        opacity: 0;
        animation: show both linear;
        animation-range: contain calc(50% - var(--buffer)) contain calc(50% + var(--buffer));
    }


    .indicator:nth-of-type(1)::after {
        animation-timeline: --one;
    }

    .indicator:nth-of-type(2)::after {
        animation-timeline: --two;
    }

    .indicator:nth-of-type(3)::after {
        animation-timeline: --three;
    }

    .indicator:nth-of-type(4)::after {
        animation-timeline: --four;
    }

    .indicator:nth-of-type(5)::after {
        animation-timeline: --five;
    }

    .indicator:nth-of-type(6)::after {
        animation-timeline: --six;
    }

    .indicator:nth-of-type(7)::after {
        animation-timeline: --seven;
    }

    .indicator:nth-of-type(8)::after {
        animation-timeline: --eight;
    }

    .indicator:nth-of-type(9)::after {
        animation-timeline: --nine;
    }

    .indicator:nth-of-type(10)::after {
        animation-timeline: --ten;
    }

    .indicator:nth-of-type(11)::after {
        animation-timeline: --eleven;
    }

    @keyframes show {
        50% {
            opacity: 1;
        }
    }
}